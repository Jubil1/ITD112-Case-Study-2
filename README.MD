# Filipino Emigrants Dashboard

A comprehensive data visualization dashboard for analyzing Filipino emigrant data across different dimensions including destinations, origins, demographics, and trends over time.

## ğŸš€ Quick Start

### 1. Install Dependencies

```bash
npm install
```

### 2. **IMPORTANT: Update Firestore Rules**

The dashboard requires public read access to Firestore. Follow these steps:

#### Option A: Firebase Console (Fastest - 2 minutes)

1. Go to [Firebase Console](https://console.firebase.google.com/)
2. Select project: **filipinoemigrantsdb-21c54**
3. Navigate to **Firestore Database** â†’ **Rules** tab
4. Copy the rules from `firestore.rules` file in this project
5. Click **Publish**

#### Option B: Firebase CLI

```bash
npm install -g firebase-tools
firebase login
firebase init firestore
firebase deploy --only firestore:rules
```

See `FIRESTORE_RULES_SETUP.md` for detailed instructions.

### 3. Run Development Server

```bash
npm run dev
```

The dashboard will be available at `http://localhost:3000`

## Video Demo

https://github.com/user-attachments/assets/e305b136-7317-4af5-8299-034053612b66


## ğŸ“Š Features

- **Geographic Visualization**: Interactive choropleth maps showing emigrant distribution
- **Comparison Charts**: Compare emigrant data across different categories
- **Composition Analysis**: View data composition and proportions
- **Trend Analysis**: Analyze emigration trends over time
- **Distribution Charts**: Visualize data distribution patterns
- **Relationship Analysis**: Explore correlations and relationships
- **CSV Upload**: Upload new data to Firebase

## ğŸ› ï¸ Tech Stack

- **Frontend**: React 19, TypeScript, Vite
- **Routing**: TanStack Router
- **Styling**: Tailwind CSS 4
- **Charts**: Nivo Charts
- **Database**: Firebase Firestore
- **Icons**: React Icons

## ğŸ“ Project Structure
```
case-study-2/
â”œâ”€â”€ .tanstack/                      # TanStack Query cache
â”œâ”€â”€ config/                         # Configuration files
â”œâ”€â”€ docs/                          # Documentation
â”‚   â”œâ”€â”€ architecture/
â”‚   â”‚   â””â”€â”€ PROJECT_STRUCTURE.md
â”‚   â”œâ”€â”€ guides/
â”‚   â”‚   â”œâ”€â”€ CHOROPLETH_INTEGRATION_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ CRUD_ARCHITECTURE.md
â”‚   â”‚   â”œâ”€â”€ CRUD_DEPLOYMENT_CHECKLIST.md
â”‚   â”‚   â”œâ”€â”€ CRUD_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ CRUD_IMPLEMENTATION_SUMMARY.md
â”‚   â”‚   â”œâ”€â”€ CRUD_QUICK_REFERENCE.md
â”‚   â”‚   â”œâ”€â”€ CSV_DATA_EXPLANATION.md
â”‚   â”‚   â”œâ”€â”€ CSV_FORMAT_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ FIRESTORE_RULES_SETUP.md
â”‚   â”‚   â”œâ”€â”€ PAGES_GUIDE.md
â”‚   â”‚   â””â”€â”€ PAGES_QUICK_REFERENCE.md
â”‚   â””â”€â”€ issues/                    # Known issues and solutions
â”œâ”€â”€ node_modules/                  # Dependencies
â”œâ”€â”€ public/                        # Static assets
â”‚   â”œâ”€â”€ data/                     # CSV data files
â”‚   â”‚   â”œâ”€â”€ processed/            # Cleaned/processed CSV files
â”‚   â”‚   â””â”€â”€ raw/                  # Original CSV files
â”‚   â”‚       â”œâ”€â”€ Age-Clean.csv
â”‚   â”‚       â”œâ”€â”€ CivilStatus-Clean.csv
â”‚   â”‚       â”œâ”€â”€ Countries-Clean.csv
â”‚   â”‚       â”œâ”€â”€ Education-Clean.csv
â”‚   â”‚       â”œâ”€â”€ MajorCountries-Clean.csv
â”‚   â”‚       â”œâ”€â”€ Occupation-Clean.csv
â”‚   â”‚       â”œâ”€â”€ PlaceOfOrigin-Clean.csv
â”‚   â”‚       â””â”€â”€ Sex-Clean.csv
â”‚   â””â”€â”€ robots.txt
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                      # Firebase service layer
â”‚   â”‚   â”œâ”€â”€ baseService.ts        # Base service with common operations
â”‚   â”‚   â”œâ”€â”€ destinationService.ts # Destination data CRUD operations
â”‚   â”‚   â””â”€â”€ originService.ts      # Origin data CRUD operations
â”‚   â”œâ”€â”€ components/               # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ charts/              # Chart components
â”‚   â”‚   â”œâ”€â”€ DataPopulationButton.tsx
â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”œâ”€â”€ loadingScreen.tsx
â”‚   â”‚   â””â”€â”€ navBar.tsx
â”‚   â”œâ”€â”€ context/                  # React context providers
â”‚   â”‚   â””â”€â”€ navBarContext.tsx
â”‚   â”œâ”€â”€ data/                    # Data management
â”‚   â”‚   â”œâ”€â”€ processed/           # Processed data
â”‚   â”‚   â””â”€â”€ raw/                 # Raw CSV data
â”‚   â”œâ”€â”€ hooks/                   # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useComparisonData.ts
â”‚   â”‚   â”œâ”€â”€ useCompositionData.ts
â”‚   â”‚   â”œâ”€â”€ useDashboardStats.ts
â”‚   â”‚   â”œâ”€â”€ useDistributionData.ts
â”‚   â”‚   â”œâ”€â”€ useGeoJSON.ts
â”‚   â”‚   â”œâ”€â”€ useIsMobile.ts
â”‚   â”‚   â”œâ”€â”€ useNavBarWidth.ts
â”‚   â”‚   â”œâ”€â”€ useParseAllDestinationData.ts
â”‚   â”‚   â”œâ”€â”€ useParseOriginProvinceData.ts
â”‚   â”‚   â”œâ”€â”€ useRelationshipData.ts
â”‚   â”‚   â”œâ”€â”€ useTrendData.ts
â”‚   â”‚   â””â”€â”€ useYearFilter.ts
â”‚   â”œâ”€â”€ routes/                  # Page/Route components
â”‚   â”‚   â”œâ”€â”€ _root.tsx           # Root layout
â”‚   â”‚   â”œâ”€â”€ comparison.tsx      # Comparison visualizations
â”‚   â”‚   â”œâ”€â”€ composition.tsx     # Composition analysis
â”‚   â”‚   â”œâ”€â”€ crud.tsx           # CRUD operations page
â”‚   â”‚   â”œâ”€â”€ distribution.tsx    # Distribution charts
â”‚   â”‚   â”œâ”€â”€ geographic.tsx      # Geographic/map visualizations
â”‚   â”‚   â”œâ”€â”€ index.tsx          # Landing/home page
â”‚   â”‚   â”œâ”€â”€ parallel.tsx       # Parallel coordinates
â”‚   â”‚   â”œâ”€â”€ radar.tsx          # Radar charts
â”‚   â”‚   â”œâ”€â”€ relationships.tsx   # Relationship analysis
â”‚   â”‚   â”œâ”€â”€ trends.tsx         # Trend analysis
â”‚   â”‚   â””â”€â”€ upload.tsx         # CSV upload page
â”‚   â”œâ”€â”€ scripts/                # Utility scripts
â”‚   â”œâ”€â”€ types/                  # TypeScript type definitions
â”‚   â”œâ”€â”€ utils/                  # Utility functions
â”‚   â”‚   â”œâ”€â”€ countryMapping.ts
â”‚   â”‚   â”œâ”€â”€ csvDataPopulation.ts
â”‚   â”‚   â””â”€â”€ normalizeProvince.ts
â”‚   â”œâ”€â”€ firebase.ts             # Firebase configuration
â”‚   â”œâ”€â”€ main.tsx               # Application entry point
â”‚   â”œâ”€â”€ routeTree.gen.ts       # Auto-generated route tree
â”‚   â””â”€â”€ styles.css             # Global styles
â”œâ”€â”€ .cta.json                   # CTA configuration
â”œâ”€â”€ .gitignore
â”œâ”€â”€ convert-csvs.js            # CSV conversion script
â”œâ”€â”€ firebase-debug.log
â”œâ”€â”€ firestore.rules            # Firestore security rules
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ README.MD
â”œâ”€â”€ tsconfig.json              # TypeScript configuration
â””â”€â”€ vite.config.ts             # Vite configuration
```

### Key Directories Explained

#### `/src/api` - Firebase Service Layer
Base services and CRUD operations for interacting with Firestore database. Handles all data persistence operations.

#### `/src/components` - UI Components
Reusable React components including charts, navigation, loading states, and data population controls.

#### `/src/context` - State Management
React Context providers for managing global application state (e.g., navigation bar state).

#### `/src/hooks` - Custom Hooks
Custom React hooks for data fetching, parsing CSV files, filtering, and responsive design utilities.

#### `/src/routes` - Pages
TanStack Router route components representing different pages/views in the application.

#### `/src/utils` - Utilities
Helper functions for data normalization, country mapping, and CSV data population.

#### `/public/data` - Data Files
Raw and processed CSV files containing demographic and migration data organized by category (age, education, occupation, etc.).

#### `/docs` - Documentation
Comprehensive guides covering CRUD operations, data formats, Firebase setup, deployment checklists, and architecture decisions.

## ğŸ”¥ Firebase Configuration

The project uses Firebase for:

- **Firestore**: Data storage and retrieval
- No authentication required (public access)

## ğŸ“ Data Upload

Navigate to `/upload` to upload CSV files. The system supports:

- Destination countries data
- Origin provinces data
- Age group data
- Gender distribution data
- Education level data
- Civil status data

## ğŸš¨ Troubleshooting

### "Missing or insufficient permissions" Error

This means Firestore security rules haven't been updated. Follow the Firestore setup steps above.

### Charts Not Loading

1. Check browser console for errors
2. Verify Firebase configuration in `src/firebase.ts`
3. Ensure Firestore has data in the correct collections

## ğŸ“¦ Available Scripts

- `npm run dev` - Start development server (port 3000)
- `npm run build` - Build for production
- `npm run serve` - Preview production build
- `npm test` - Run tests

## ğŸŒ Deployment

1. Build the project: `npm run build`
2. Deploy the `dist` folder to your hosting service
3. Ensure Firestore rules are published

## ğŸ“„ License

Private project
